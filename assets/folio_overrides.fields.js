!function($,Symphony){"use strict";var initializeTagLists=function(){var fields,init=function(){fields=Symphony.Elements.contents.find(".field-taglist"),fields.each(buildField)},buildField=function(index,field){console.log("[folio_overrides] initializeTagList > buildField");var hidden,display;field.className+=" local-taglist",hidden=field.querySelector('input[type="text"]'),hidden.setAttribute("type","hidden"),display=document.createElement("textarea"),display.cols=50,display.rows=5,hidden.parentElement.appendChild(display),$(hidden).on("change",function(ev){ev.isDefaultPrevented()&&ev.preventDefault(),display.value=invert(hidden.value)}),$(display).on("change",function(ev){ev.isDefaultPrevented()&&ev.preventDefault(),hidden.value=invert(formatTags(display.value))}),display.value=formatTags(invert(hidden.value))},formatTags=function(s){return s.replace(/ *\: */g,":")},invert=function(s){return s.replace(/(\,|\;)/g,function(m){return","==m?";":","})};init()},initializeSelectBoxLinks=function(){var fields,init=function(){fields=Symphony.Elements.contents.find(".field-selectbox_link"),fields.each(buildField)},buildField=function(index,field){var $field,$hidden,display;$field=$(field),$field.addClass("local-sbl"),$hidden=$field.find("select:visible, input:visible"),$hidden.length&&($hidden.selectize({sortField:[{field:"text",direction:"asc"}],hideSelected:!0,plugins:{remove_button:{label:"Remove",title:"Remove",className:"destructor"}},render:{item:renderItem,option:renderOption}}),display=$hidden[0].selectize,display.$control_input.attr("placeholder","Search and select â€¦"))},renderItem=function(data){return'<div class="item" data-entry-id="'+data.id+'"><span>'+data.text+"</span></div>"},renderOption=function(data){return'<div class="option"><span>'+data.text+"</span></div>"};init()};$(document).on("ready",function(){initializeTagLists(),initializeSelectBoxLinks()})}(window.jQuery,window.Symphony);
//# sourceMappingURL=folio_overrides.fields.js.map