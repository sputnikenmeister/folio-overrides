!function(a,b){"use strict";var c=function(){var c,d=function(){c=b.Elements.contents.find(".field-taglist"),c.each(e)},e=function(b,c){console.log("[folio_overrides] initializeTagList > buildField");var d,e;c.className+=" local-taglist",d=c.querySelector('input[type="text"]'),d.setAttribute("type","hidden"),e=document.createElement("textarea"),e.cols=50,e.rows=5,d.parentElement.appendChild(e),a(d).on("change",function(a){a.isDefaultPrevented()&&a.preventDefault(),e.value=g(d.value)}),a(e).on("change",function(a){a.isDefaultPrevented()&&a.preventDefault(),d.value=g(f(e.value))}),e.value=f(g(d.value))},f=function(a){return a.replace(/ *\: */g,":")},g=function(a){return a.replace(/(\,|\;)/g,function(a){return","==a?";":","})};d()},d=function(){var c,d=function(){c=b.Elements.contents.find(".field-selectbox_link"),c.each(e)},e=function(b,c){var d,e,h;d=a(c),d.addClass("local-sbl"),e=d.find("select:visible, input:visible"),e.length&&(e.selectize({sortField:[{field:"text",direction:"asc"}],hideSelected:!0,plugins:{remove_button:{label:"×",title:"Remove",className:"destructor"}},render:{item:f,option:g}}),h=e[0].selectize,h.$control_input.attr("placeholder","Search and select …"))},f=function(a){return'<div class="item" data-entry-id="'+a.id+'"><span>'+a.text+"</span></div>"},g=function(a){return'<div class="option"><span>'+a.text+"</span></div>"};d()},e=function(){var b,c,d,e;b=document.querySelector('form input[name="action[save]"]'),c=document.querySelector(".entry-nav"),e=document.querySelector(".entry-nav .button.entry-nav-prev"),d=document.querySelector(".entry-nav .button.entry-nav-next"),document.addEventListener("keydown",function(){},!1);var f=function(f){var g=f.key;(f.ctrlKey||f.metaKey)&&f.shiftKey&&([b,c].forEach(function(a){a.classList.add("keyfocused")}),"s"===g&&b?a(b).click():"ArrowLeft"===g&&e?window.location.href=e.href:"ArrowRight"===g&&d&&(window.location.href=d.href))},g=function(a){(a.ctrlKey||a.metaKey)&&a.shiftKey||[b,c].forEach(function(a){a.classList.remove("keyfocused")})};document.addEventListener("keydown",f,!1),document.addEventListener("keyup",g,!1)};a(document).on("ready",function(){var a=/iPad|iPhone/.test(window.navigator.userAgent);c(),!a&&d(),e()})}(window.jQuery,window.Symphony);